(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{VhRp:function(t,e,i){"use strict";i.r(e),i.d(e,"SetprofilePageModule",(function(){return m}));var s=i("ofXK"),o=i("3Pt+"),n=i("TEn/"),r=i("tyNb"),a=i("fXoL"),c=i("mrSG"),l=i("tk/3");function d(t,e){if(1&t&&(a.Mb(0,"button",13),a.oc(1," Proceed "),a.Lb()),2&t){a.Wb();const t=a.hc(1);a.Zb("disabled",t.invalid)}}function p(t,e){1&t&&(a.Mb(0,"button",13),a.Kb(1,"ion-spinner"),a.oc(2," Please Wait... "),a.Lb()),2&t&&a.Zb("disabled",!0)}let u=(()=>{class t{constructor(t,e,i,s,o,n){this.toastController=t,this.menuCtrl=e,this.navCtrl=i,this.http=s,this.router=o,this.loadingController=n,this.userid="",this.apikey="",this.img1="https://beaconlifecash.com.ng/files/dp/dp.png",this.accountnumber="",this.loadstarted=new a.n,this.loadcompleted=new a.n,this.loadcompletednull=new a.n,this.loadfailure=new a.n,this.processingmsg="",this.hasimage1=!1,this.formData=null,this.imagefile1="",this.startproceessing=!1,this.loadinitialwithinitial()}loadinitialwithinitial(){return Object(c.a)(this,void 0,void 0,(function*(){setTimeout(()=>Object(c.a)(this,void 0,void 0,(function*(){yield this.loadinit()})),10)}))}loadinit(){return Object(c.a)(this,void 0,void 0,(function*(){this.getuserdetails()}))}ngOnInit(){}getuserdetails(){return Object(c.a)(this,void 0,void 0,(function*(){yield this.http.get("https://beaconlifecash.com.ng/api/users/view/viewbeaconaccountname.ashx?qstring="+this.accountnumber).subscribe(t=>Object(c.a)(this,void 0,void 0,(function*(){console.log(t),100!=t.statuscode&&this.presentToast(t.status),100==t.statuscode&&(this.userid=t.post[0].userid,this.img1=t.post[0].dpurl)})),t=>{console.log(t),this.presentToast("Unable to connect to the Internet")})}))}pickpicture(){document.getElementById("piclogo").click()}showpicture(t){if(t.target.files[0].size>512e4)alert("Your Image exceed 5mb");else{if(t.target.files&&t.target.files[0]){let e=new FileReader;e.onload=t=>{this.img1=t.target.result,this.hasimage1=!0,this.uploadpicture()},e.readAsDataURL(t.target.files[0])}this.formData=new FormData,Array.from(t.target.files).forEach(t=>this.formData.append("photos",t,t.name))}}uploadpicture(){return Object(c.a)(this,void 0,void 0,(function*(){(this.hasimage1=!1)?this.presentToast("You must pick a file to upload"):(this.startproceessing=!0,this.loadstarted.emit(),this.processingmsg="",alert(this.userid),yield this.http.post("https://beaconlifecash.com.ng/api/users/auth/useruploadprofilepic.ashx?userid="+this.userid+"&apikey=jsjjssjjsjssjj",this.formData).subscribe(t=>{console.log(t),this.startproceessing=!1,this.hasimage1=!1,this.formData=null,Number(t.statuscode)==Number(99)&&(this.presentToast(t.status),this.loadcompleted.emit(),this.processingmsg=t.status),99!=t.statuscode&&(this.presentToast(t.status),this.loadcompletednull.emit(),this.processingmsg=t.status)},t=>{this.presentToast("Unable to connect to the Internet"),this.img1="https://beaconlifecash.com.ng/files/dp/dp.png",this.startproceessing=!1,console.log(t)}))}))}proceed(){return Object(c.a)(this,void 0,void 0,(function*(){var t={email:this.triminput(this.email),pwd:this.triminput(this.pwd)},e=JSON.stringify(t);this.startproceessing=!0,this.loadstarted.emit(),this.processingmsg="",yield this.http.post("https://beaconlifecash.com.ng/api/users/auth/signinapi.ashx",e).subscribe(t=>Object(c.a)(this,void 0,void 0,(function*(){console.log(t),this.startproceessing=!1,99!=t.statuscode&&(this.presentToast(t.status),this.loadcompletednull.emit(),this.processingmsg=t.status),99==t.statuscode&&(this.loadcompleted.emit(),this.presentToast(t.status),this.processingmsg=t.status)})),t=>{console.log(t),this.startproceessing=!1,this.loadfailure.emit(),this.presentToast("Unable to connect to the Internet"),this.processingmsg="Unable to connect to the Internet"})}))}triminput(t){return t.trim()}presentToast(t){return Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:t,duration:2e3})).present()}))}navigateroot(t){this.navCtrl.navigateRoot(t)}navigate(t){this.navCtrl.navigateForward(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Jb(n.M),a.Jb(n.I),a.Jb(n.J),a.Jb(l.a),a.Jb(r.f),a.Jb(n.H))},t.\u0275cmp=a.Db({type:t,selectors:[["app-uploaddp"]],inputs:{userid:"userid",apikey:"apikey",img1:"img1",accountnumber:"accountnumber"},outputs:{loadstarted:"loadstarted",loadcompleted:"loadcompleted",loadcompletednull:"loadcompletednull",loadfailure:"loadfailure"},decls:22,vars:3,consts:[[3,"ngSubmit"],["form","ngForm"],[1,"bglight","w3-col","w3-round-xlarge","w3-card","w3-padding",2,"margin-top","20px"],[1,"w3-center"],["name","person",1,"w3-circle"],[1,"myinvert","w3-text-dark-grey","w3-medium","w3-center"],[1,"w3-col"],[1,"w3-circle",2,"width","120px","height","120px",3,"src","click"],["type","file","id","piclogo","accept","image/*",2,"display","none",3,"change"],[1,"w3-center","w3-col"],[1,"w3-col","w3-margin-top"],[1,"w3-col",2,"padding","5px"],["name","next","class","btncolor w3-col w3-btn w3-round-xlarge w3-padding","style","height:50px","type","submit",3,"disabled",4,"ngIf"],["name","next","type","submit",1,"btncolor","w3-col","w3-btn","w3-round-xlarge","w3-padding",2,"height","50px",3,"disabled"]],template:function(t,e){1&t&&(a.Mb(0,"form",0,1),a.Ub("ngSubmit",(function(){return e.proceed()})),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"h2"),a.Kb(5,"ion-icon",4),a.oc(6," Change Your Photo "),a.Lb(),a.Mb(7,"span",5),a.oc(8," Update your photo here. "),a.Lb(),a.Lb(),a.Mb(9,"div",6),a.Mb(10,"div",3),a.Kb(11,"br"),a.Mb(12,"img",7),a.Ub("click",(function(){return e.pickpicture()})),a.Lb(),a.Mb(13,"input",8),a.Ub("change",(function(t){return e.showpicture(t)})),a.Lb(),a.Lb(),a.Lb(),a.Mb(14,"div",9),a.Kb(15,"br"),a.Lb(),a.Mb(16,"div",10),a.Mb(17,"div",11),a.nc(18,d,2,1,"button",12),a.nc(19,p,3,1,"button",12),a.Lb(),a.Mb(20,"div",9),a.Kb(21,"br"),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&t&&(a.zb(12),a.ac("src",e.img1,a.kc),a.zb(6),a.Zb("ngIf",!e.startproceessing),a.zb(1),a.Zb("ngIf",e.startproceessing))},directives:[o.n,o.f,o.g,n.l,s.j,n.w],styles:[".btncolor[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:var(--ion-color-primary-contrast)}.btntextcolor[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.bglight[_ngcontent-%COMP%]{background:var(--ion-color-light);color:var(--ion-color-light-contrast)}"]}),t})();const h=[{path:"",component:(()=>{class t{constructor(t){this.menuCtrl=t}ionViewDidEnter(){this.menuCtrl.enable(!1),document.title="Set Profile- Beaconlife Cash"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(a.Jb(n.I))},t.\u0275cmp=a.Db({type:t,selectors:[["app-setprofile"]],decls:10,vars:0,consts:[[1,"w3-col","w3-round","w3-padding","w3-margin-bottom",2,"min-height","600px"],[1,"w3-col","l3","s12","m2"],[1,"w3-col","l6","s12","m8"]],template:function(t,e){1&t&&(a.Mb(0,"ion-content"),a.Mb(1,"div",0),a.Mb(2,"div",1),a.Kb(3,"br"),a.oc(4," \xa0 "),a.Lb(),a.Mb(5,"div",2),a.Kb(6,"app-uploaddp"),a.Lb(),a.Mb(7,"div",1),a.Kb(8,"br"),a.oc(9," \xa0 "),a.Lb(),a.Lb(),a.Lb())},directives:[n.h,u],styles:[""]}),t})()}];let b=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[r.i.forChild(h)],r.i]}),t})();var g=i("j1ZV");let m=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[s.b,o.b,n.F,g.a,b]]}),t})()}}]);