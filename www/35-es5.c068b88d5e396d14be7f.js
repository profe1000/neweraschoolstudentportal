function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{VhRp:function(t,e,n){"use strict";n.r(e),n.d(e,"SetprofilePageModule",(function(){return k}));var i=n("ofXK"),r=n("3Pt+"),o=n("TEn/"),s=n("tyNb"),a=n("fXoL"),c=n("mrSG"),u=n("tk/3");function l(t,e){if(1&t&&(a.Mb(0,"button",13),a.oc(1," Proceed "),a.Lb()),2&t){a.Wb();var n=a.hc(1);a.Zb("disabled",n.invalid)}}function p(t,e){1&t&&(a.Mb(0,"button",13),a.Kb(1,"ion-spinner"),a.oc(2," Please Wait... "),a.Lb()),2&t&&a.Zb("disabled",!0)}var d,h,b,m,g=((d=function(){function t(e,n,i,r,o,s){_classCallCheck(this,t),this.toastController=e,this.menuCtrl=n,this.navCtrl=i,this.http=r,this.router=o,this.loadingController=s,this.userid="",this.apikey="",this.img1="https://beaconlifecash.com.ng/files/dp/dp.png",this.accountnumber="",this.loadstarted=new a.n,this.loadcompleted=new a.n,this.loadcompletednull=new a.n,this.loadfailure=new a.n,this.processingmsg="",this.hasimage1=!1,this.formData=null,this.imagefile1="",this.startproceessing=!1,this.loadinitialwithinitial()}return _createClass(t,[{key:"loadinitialwithinitial",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout((function(){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadinit();case 2:case"end":return t.stop()}}),t,this)})))}),10);case 1:case"end":return t.stop()}}),t)})))}},{key:"loadinit",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getuserdetails();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"ngOnInit",value:function(){}},{key:"getuserdetails",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("https://beaconlifecash.com.ng/api/users/view/viewbeaconaccountname.ashx?qstring="+this.accountnumber).subscribe((function(t){return Object(c.a)(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),100!=t.statuscode&&this.presentToast(t.status),100==t.statuscode&&(this.userid=t.post[0].userid,this.img1=t.post[0].dpurl);case 1:case"end":return e.stop()}}),e,this)})))}),(function(t){console.log(t),e.presentToast("Unable to connect to the Internet")}));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"pickpicture",value:function(){document.getElementById("piclogo").click()}},{key:"showpicture",value:function(t){var e=this;if(t.target.files[0].size>512e4)alert("Your Image exceed 5mb");else{if(t.target.files&&t.target.files[0]){var n=new FileReader;n.onload=function(t){e.img1=t.target.result,e.hasimage1=!0,e.uploadpicture()},n.readAsDataURL(t.target.files[0])}this.formData=new FormData,Array.from(t.target.files).forEach((function(t){return e.formData.append("photos",t,t.name)}))}}},{key:"uploadpicture",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.hasimage1=!1)){t.next=4;break}this.presentToast("You must pick a file to upload"),t.next=10;break;case 4:return this.startproceessing=!0,this.loadstarted.emit(),this.processingmsg="",alert(this.userid),t.next=10,this.http.post("https://beaconlifecash.com.ng/api/users/auth/useruploadprofilepic.ashx?userid="+this.userid+"&apikey=jsjjssjjsjssjj",this.formData).subscribe((function(t){console.log(t),e.startproceessing=!1,e.hasimage1=!1,e.formData=null,Number(t.statuscode)==Number(99)&&(e.presentToast(t.status),e.loadcompleted.emit(),e.processingmsg=t.status),99!=t.statuscode&&(e.presentToast(t.status),e.loadcompletednull.emit(),e.processingmsg=t.status)}),(function(t){e.presentToast("Unable to connect to the Internet"),e.img1="https://beaconlifecash.com.ng/files/dp/dp.png",e.startproceessing=!1,console.log(t)}));case 10:case"end":return t.stop()}}),t,this)})))}},{key:"proceed",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={email:this.triminput(this.email),pwd:this.triminput(this.pwd)},n=JSON.stringify(e),this.startproceessing=!0,this.loadstarted.emit(),this.processingmsg="",t.next=6,this.http.post("https://beaconlifecash.com.ng/api/users/auth/signinapi.ashx",n).subscribe((function(t){return Object(c.a)(i,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t),this.startproceessing=!1,99!=t.statuscode&&(this.presentToast(t.status),this.loadcompletednull.emit(),this.processingmsg=t.status),99==t.statuscode&&(this.loadcompleted.emit(),this.presentToast(t.status),this.processingmsg=t.status);case 1:case"end":return e.stop()}}),e,this)})))}),(function(t){console.log(t),i.startproceessing=!1,i.loadfailure.emit(),i.presentToast("Unable to connect to the Internet"),i.processingmsg="Unable to connect to the Internet"}));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"triminput",value:function(t){return t.trim()}},{key:"presentToast",value:function(t){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:t,duration:2e3});case 2:e.sent.present();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"navigateroot",value:function(t){this.navCtrl.navigateRoot(t)}},{key:"navigate",value:function(t){this.navCtrl.navigateForward(t)}}]),t}()).\u0275fac=function(t){return new(t||d)(a.Jb(o.M),a.Jb(o.I),a.Jb(o.J),a.Jb(u.a),a.Jb(s.f),a.Jb(o.H))},d.\u0275cmp=a.Db({type:d,selectors:[["app-uploaddp"]],inputs:{userid:"userid",apikey:"apikey",img1:"img1",accountnumber:"accountnumber"},outputs:{loadstarted:"loadstarted",loadcompleted:"loadcompleted",loadcompletednull:"loadcompletednull",loadfailure:"loadfailure"},decls:22,vars:3,consts:[[3,"ngSubmit"],["form","ngForm"],[1,"bglight","w3-col","w3-round-xlarge","w3-card","w3-padding",2,"margin-top","20px"],[1,"w3-center"],["name","person",1,"w3-circle"],[1,"myinvert","w3-text-dark-grey","w3-medium","w3-center"],[1,"w3-col"],[1,"w3-circle",2,"width","120px","height","120px",3,"src","click"],["type","file","id","piclogo","accept","image/*",2,"display","none",3,"change"],[1,"w3-center","w3-col"],[1,"w3-col","w3-margin-top"],[1,"w3-col",2,"padding","5px"],["name","next","class","btncolor w3-col w3-btn w3-round-xlarge w3-padding","style","height:50px","type","submit",3,"disabled",4,"ngIf"],["name","next","type","submit",1,"btncolor","w3-col","w3-btn","w3-round-xlarge","w3-padding",2,"height","50px",3,"disabled"]],template:function(t,e){1&t&&(a.Mb(0,"form",0,1),a.Ub("ngSubmit",(function(){return e.proceed()})),a.Mb(2,"div",2),a.Mb(3,"div",3),a.Mb(4,"h2"),a.Kb(5,"ion-icon",4),a.oc(6," Change Your Photo "),a.Lb(),a.Mb(7,"span",5),a.oc(8," Update your photo here. "),a.Lb(),a.Lb(),a.Mb(9,"div",6),a.Mb(10,"div",3),a.Kb(11,"br"),a.Mb(12,"img",7),a.Ub("click",(function(){return e.pickpicture()})),a.Lb(),a.Mb(13,"input",8),a.Ub("change",(function(t){return e.showpicture(t)})),a.Lb(),a.Lb(),a.Lb(),a.Mb(14,"div",9),a.Kb(15,"br"),a.Lb(),a.Mb(16,"div",10),a.Mb(17,"div",11),a.nc(18,l,2,1,"button",12),a.nc(19,p,3,1,"button",12),a.Lb(),a.Mb(20,"div",9),a.Kb(21,"br"),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&t&&(a.zb(12),a.ac("src",e.img1,a.kc),a.zb(6),a.Zb("ngIf",!e.startproceessing),a.zb(1),a.Zb("ngIf",e.startproceessing))},directives:[r.n,r.f,r.g,o.l,i.j,o.w],styles:[".btncolor[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:var(--ion-color-primary-contrast)}.btntextcolor[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.bglight[_ngcontent-%COMP%]{background:var(--ion-color-light);color:var(--ion-color-light-contrast)}"]}),d),f=[{path:"",component:(h=function(){function t(e){_classCallCheck(this,t),this.menuCtrl=e}return _createClass(t,[{key:"ionViewDidEnter",value:function(){this.menuCtrl.enable(!1),document.title="Set Profile- Beaconlife Cash"}},{key:"ngOnInit",value:function(){}}]),t}(),h.\u0275fac=function(t){return new(t||h)(a.Jb(o.I))},h.\u0275cmp=a.Db({type:h,selectors:[["app-setprofile"]],decls:10,vars:0,consts:[[1,"w3-col","w3-round","w3-padding","w3-margin-bottom",2,"min-height","600px"],[1,"w3-col","l3","s12","m2"],[1,"w3-col","l6","s12","m8"]],template:function(t,e){1&t&&(a.Mb(0,"ion-content"),a.Mb(1,"div",0),a.Mb(2,"div",1),a.Kb(3,"br"),a.oc(4," \xa0 "),a.Lb(),a.Mb(5,"div",2),a.Kb(6,"app-uploaddp"),a.Lb(),a.Mb(7,"div",1),a.Kb(8,"br"),a.oc(9," \xa0 "),a.Lb(),a.Lb(),a.Lb())},directives:[o.h,g],styles:[""]}),h)}],v=((b=function t(){_classCallCheck(this,t)}).\u0275mod=a.Hb({type:b}),b.\u0275inj=a.Gb({factory:function(t){return new(t||b)},imports:[[s.i.forChild(f)],s.i]}),b),w=n("j1ZV"),k=((m=function t(){_classCallCheck(this,t)}).\u0275mod=a.Hb({type:m}),m.\u0275inj=a.Gb({factory:function(t){return new(t||m)},imports:[[i.b,r.b,o.F,w.a,v]]}),m)}}]);