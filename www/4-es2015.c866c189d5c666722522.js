(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"6Spp":function(t,e,i){"use strict";i.d(e,"a",(function(){return w}));var s=i("mrSG"),o=i("fXoL"),n=i("TEn/"),r=i("ZzJ7"),a=i("gcOT"),d=i("tyNb"),l=i("tk/3"),c=i("jhN1"),u=i("ofXK");function h(t,e){if(1&t&&(o.Mb(0,"span"),o.Mb(1,"b"),o.oc(2," \xa0 \xa0"),o.Mb(3,"ion-text",7),o.oc(4),o.Lb(),o.Lb(),o.Lb()),2&t){const t=o.Wb(2);o.zb(4),o.qc(" ",t.label," ")}}function p(t,e){if(1&t&&(o.Mb(0,"div",4),o.nc(1,h,5,1,"span",2),o.Mb(2,"div",5),o.Kb(3,"br"),o.Kb(4,"br"),o.Kb(5,"br"),o.Kb(6,"ion-spinner",6),o.Lb(),o.Lb()),2&t){const t=o.Wb();o.zb(1),o.Zb("ngIf",""!=t.label)}}function b(t,e){if(1&t&&(o.Mb(0,"div",8),o.Mb(1,"div",9),o.Mb(2,"div",10),o.Mb(3,"div",11),o.Kb(4,"br"),o.Mb(5,"ion-thumbnail",12),o.Kb(6,"img",13),o.Lb(),o.Lb(),o.Mb(7,"div",14),o.Mb(8,"p",15),o.Mb(9,"span",16),o.oc(10," Due Fees"),o.Lb(),o.Kb(11,"br"),o.Mb(12,"span",17),o.Mb(13,"b"),o.oc(14),o.Lb(),o.Lb(),o.Lb(),o.Mb(15,"p",18),o.Mb(16,"span",16),o.oc(17," Student Age: "),o.Lb(),o.Mb(18,"b"),o.Kb(19,"span",19),o.Lb(),o.Lb(),o.Mb(20,"p",18),o.Mb(21,"span",16),o.oc(22," Gender: "),o.Lb(),o.Mb(23,"b"),o.Kb(24,"span",19),o.Lb(),o.Lb(),o.Lb(),o.Mb(25,"div",20),o.Mb(26,"p",15),o.Mb(27,"span",16),o.oc(28," Student Name"),o.Lb(),o.Kb(29,"br"),o.Mb(30,"span",21),o.Mb(31,"b"),o.oc(32),o.Lb(),o.Lb(),o.Lb(),o.Mb(33,"p",18),o.Mb(34,"span",16),o.oc(35," Student Class: "),o.Lb(),o.Mb(36,"b"),o.Kb(37,"span",19),o.Lb(),o.Lb(),o.Mb(38,"p",18),o.Mb(39,"span",16),o.oc(40," Student Status: "),o.Lb(),o.Mb(41,"b"),o.Kb(42,"span",19),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Lb()),2&t){const t=o.Wb();o.zb(6),o.ac("src",t.featurepost[0].dpurl,o.kc),o.zb(8),o.qc(" ",t.realmoney(t.featurepost[0].duefees)," "),o.zb(5),o.Zb("innerHTML",t.featurepost[0].age,o.jc),o.zb(5),o.Zb("innerHTML",t.featurepost[0].gender,o.jc),o.zb(8),o.qc("",t.featurepost[0].studentFirstname+" "+t.featurepost[0].studentSurname+" "+t.featurepost[0].studentMiddlename," "),o.zb(5),o.Zb("innerHTML",t.featurepost[0].classname,o.jc),o.zb(5),o.Zb("innerHTML",t.studentstatus[t.featurepost[0].status],o.jc)}}function g(t,e){1&t&&(o.Mb(0,"div"),o.Mb(1,"div",22),o.Kb(2,"img",23),o.Mb(3,"h3",24),o.oc(4," No Record Found "),o.Lb(),o.Mb(5,"p",24),o.oc(6," No student was found, you can Add new student or change your search parameter. "),o.Kb(7,"br"),o.Kb(8,"br"),o.Lb(),o.Mb(9,"p",25),o.Kb(10,"br"),o.Mb(11,"a",26),o.oc(12," Home "),o.Lb(),o.Lb(),o.Lb(),o.Lb())}function f(t,e){if(1&t){const t=o.Nb();o.Mb(0,"div"),o.Mb(1,"div",22),o.Kb(2,"img",27),o.Mb(3,"h3",24),o.oc(4," No Network Connection "),o.Lb(),o.Mb(5,"p",24),o.oc(6," Connect to the Internet and try again Later "),o.Kb(7,"br"),o.Kb(8,"br"),o.Lb(),o.Mb(9,"p"),o.Kb(10,"br"),o.Mb(11,"a",28),o.Ub("click",(function(){return o.ic(t),o.Wb().loadpost()})),o.oc(12," Retry "),o.Lb(),o.Lb(),o.Lb(),o.Lb()}}function m(t,e){if(1&t){const t=o.Nb();o.Mb(0,"div",29),o.Mb(1,"ion-infinite-scroll",30),o.Ub("ionInfinite",(function(e){return o.ic(t),o.Wb().loadData(e)})),o.Kb(2,"ion-infinite-scroll-content",31),o.Lb(),o.Lb()}}const{Storage:v}=a.a;let w=(()=>{class t{constructor(t,e,i,s,n,r,a,d,l){this.generalservice=t,this.menuCtrl=e,this.alertController=i,this.navCtrl=s,this.toastController=n,this.router=r,this.httpClient=a,this.loadingController=d,this.sanitizer=l,this.apihost="",this.label="",this.postid="",this.catid="1",this.tagid="1",this.qstring="",this.qstringb="",this.qstringc="",this.qstringd="",this.userid="",this.updatetype="1",this.apikey="",this.sortby="",this.pagenum=1,this.pagesize=20,this.showmainarticle=!0,this.delay=50,this.storagekey="students",this.disablepager=!1,this.reloadstarted=new o.n,this.reloadcompleted=new o.n,this.reloadcompletednull=new o.n,this.reloadfailure=new o.n,this.loadstarted=new o.n,this.loadcompleted=new o.n,this.loadcompletednull=new o.n,this.loadfailure=new o.n,this.loadeditfunction=new o.n,this.loadorderdespatch=new o.n,this.loadordermessage=new o.n,this.featurepost=[],this.newsite=!1,this.demopost=[1,2,3,4,5,6,7,8,9,10],this.slidefeature={initialSlide:0,slidesPerView:1,autoplay:!0,speed:400},this.studentstatus=["<span class='w3-text-orange w3-round'> Pending </span>","<span class='w3-text-green  w3-round'> Active  </span>","<span class='w3-text-blue  w3-round'> Graduated </span>","<span class='w3-text-pale-green  w3-round'> Archive </span>","<span class='w3-text-red'> Deleted </span>"],this.paymentstatus=["Not Paid","Paid"],this.orderfilter="0",this.orderfiltername="All Students",this.orderfilternamearray=["All Students","Pending Orders","Confirm Orders","Transist Orders","Delivered Orders","Rejected Orders"],this.orderfilterupdatetype=["1","2","3","4","5","6"],this.shownodata=!0,this.shownoconnection=!0,this.connectionstatuscode=0,this.loadinitialwithinitial()}loadinitialwithinitial(){return Object(s.a)(this,void 0,void 0,(function*(){setTimeout(()=>Object(s.a)(this,void 0,void 0,(function*(){yield this.loadinit()})),10)}))}loadinit(){return Object(s.a)(this,void 0,void 0,(function*(){setTimeout(()=>Object(s.a)(this,void 0,void 0,(function*(){yield this.loadpost(),this.disablepager&&this.toggleInfiniteScroll()})),Number(this.delay))}))}ngOnInit(){}updatepostview(){this.pagenum=1,this.featurepost=[],this.orderfiltername=this.orderfilternamearray[this.orderfilter],this.refreshpost()}geturl(){return console.log(this.generalservice.apiurl+this.generalservice.viewstudentapi+"?updatetype="+this.updatetype+"&userid="+this.userid+"&postid="+this.postid+"&qstring="+this.qstring+"&qstringb="+this.qstringb+"&qstringc="+this.qstringc+"&qstringd="+this.qstringd+"&pageNum="+this.pagenum+"&pageSize="+this.pagesize),this.generalservice.apiurl+this.generalservice.viewstudentapi+"?updatetype="+this.updatetype+"&userid="+this.userid+"&postid="+this.postid+"&qstring="+this.qstring+"&qstringb="+this.qstringb+"&qstringc="+this.qstringc+"&qstringd="+this.qstringd+"&pageNum="+this.pagenum+"&pageSize="+this.pagesize}loadpost(){return Object(s.a)(this,void 0,void 0,(function*(){this.connectionstatuscode=0,this.loadstarted.emit(),yield this.httpClient.get(this.geturl()).subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){if(this.featurepost=[],this.featurepost=t.post,console.log(t.post),this.newsite=!0,100==t.statuscode&&(this.loadcompleted.emit(),this.connectionstatuscode=1),100!=t.statuscode)return this.loadcompletednull.emit(),void(this.shownodata&&(this.connectionstatuscode=2));yield v.set({key:this.storagekey,value:JSON.stringify(this.featurepost)})})),t=>{console.log(t),this.loadfailure.emit(),this.shownoconnection&&(this.connectionstatuscode=3)})}))}reloadinit(){return Object(s.a)(this,void 0,void 0,(function*(){setTimeout(()=>Object(s.a)(this,void 0,void 0,(function*(){yield this.reloadpost()})),Number(this.delay))}))}reloadpost(){return Object(s.a)(this,void 0,void 0,(function*(){try{document.getElementById("myinfinitescroll").disabled=!1}catch(t){}this.pagenum=1,this.reloadstarted.emit(),yield this.httpClient.get(this.geturl()).subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){if(this.featurepost=[],this.featurepost=t.post,console.log("success1"),this.newsite=!0,this.reloadcompleted.emit(),this.connectionstatuscode=1,99==t.statuscode)return this.reloadcompletednull.emit(),void(this.shownodata&&(this.connectionstatuscode=2));yield v.set({key:this.storagekey,value:JSON.stringify(this.featurepost)})})),t=>{console.log(t),this.reloadfailure.emit(),this.shownoconnection&&(this.connectionstatuscode=3)})}))}refreshinit(){return Object(s.a)(this,void 0,void 0,(function*(){setTimeout(()=>Object(s.a)(this,void 0,void 0,(function*(){yield this.refreshpost()})),Number(this.delay))}))}refreshpost(){return Object(s.a)(this,void 0,void 0,(function*(){try{document.getElementById("myinfinitescroll").disabled=!1}catch(t){}this.featurepost=[],this.pagenum=1,this.reloadstarted.emit(),this.connectionstatuscode=0,yield this.httpClient.get(this.geturl()).subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){if(this.featurepost=[],this.featurepost=t.post,console.log("success1"),this.newsite=!0,this.reloadcompleted.emit(),this.connectionstatuscode=1,99==t.statuscode)return this.reloadcompletednull.emit(),void(this.shownodata&&(this.connectionstatuscode=2));yield v.set({key:this.storagekey,value:JSON.stringify(this.featurepost)})})),t=>{console.log(t),this.reloadfailure.emit(),this.shownoconnection&&(this.connectionstatuscode=3)})}))}loadsyncpost(){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield v.get({key:this.storagekey});if(null==t.value)return;const e=JSON.parse(t.value);console.log(e),this.featurepost=e,this.connectionstatuscode=1}))}loadData(t){t.target.disabled=!0,t.target.complete()}toggleInfiniteScroll(){this.infiniteScroll.disabled=!this.infiniteScroll.disabled}openpage(t){this.router.navigate(["userdetails/"+t])}realmoney(t){return"\u20a6"+t.toLocaleString("en-US",{style:"currency",currency:"USD"}).replace("$","")}mydatestring(t){var e=new Date(t);return(e.getDate()<10?"0"+e.getDate():e.getDate()+"")+"-"+["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"][e.getUTCMonth()]+"-"+e.getUTCFullYear()}returndatetimestr(t){var e,i,s,o,n=new Date(t);return e=n.getMonth()+1<10?"-0":"-",i=n.getDate()<10?"-0":"-",s=n.getHours()<10?"0"+n.getHours():n.getHours(),o=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes(),console.log(n.getFullYear()+e+(n.getMonth()+1)+i+n.getDate()+"T"+s+":"+o+":00"),n.getFullYear()+e+(n.getMonth()+1)+i+n.getDate()+"T"+s+":"+o+":00"}returndatestr(t){var e,i,s=new Date(t);return console.log(s),e=s.getMonth()+1<10?"-0":"-",i=s.getDate()<10?"-0":"-",console.log(s.getFullYear()+e+(s.getMonth()+1)+i+s.getDate()),s.getFullYear()+e+(s.getMonth()+1)+i+s.getDate()}returnfulldatestr(t){var e=new Date(t);return console.log(e),e}presentToast(t){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:t,duration:2e3})).present()}))}showslectedoption(t,e){1==e.target.value?this.loadmyeditfunction(t):2==e.target.value?alert("View student function not ready"):3==e.target.value?alert("Delete student function not ready"):4==e.target.value?alert("Archived student function not ready"):5==e.target.value&&alert("Approved student function not ready")}opendelete(t){this.alertdeletepost(t)}alertdeletepost(t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({header:"Alert",subHeader:"",message:"Are You sure you want to Cancel this order",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Okay",handler:()=>{this.deletefile(t)}}]});yield e.present()}))}deletefile(t){return Object(s.a)(this,void 0,void 0,(function*(){this.featurepost[t].orderstatus=4;var e=JSON.stringify({storeorderid:this.featurepost[t].storeorderid,orderstatuscode:4,itemnum:4,apikey:""});yield this.httpClient.post(this.generalservice.apiurl+"api/admin/update/updateorderstatus.ashx",e).subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){console.log(t),99!=t.statuscode&&this.presentToast("Unable to Update Order"),99==t.statuscode&&this.presentToast("Order Updated")})),t=>{console.log(t),this.presentToast("Unable to connect to the Internet")})}))}openconfirm(t){this.alertconfirmorder(t)}alertconfirmorder(t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({header:"Alert",subHeader:"",message:"Are You sure you want to Confirm this order",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Okay",handler:()=>{this.confirmfile(t)}}]});yield e.present()}))}confirmfile(t){return Object(s.a)(this,void 0,void 0,(function*(){this.featurepost[t].orderstatus=1;var e=JSON.stringify({storeorderid:this.featurepost[t].storeorderid,orderstatuscode:1,itemnum:1,apikey:""});yield this.httpClient.post(this.generalservice.apiurl+"api/admin/update/updateorderstatus.ashx",e).subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){console.log(t),99!=t.statuscode&&this.presentToast("Unable to Update Order"),99==t.statuscode&&this.presentToast("Order Updated")})),t=>{console.log(t),this.presentToast("Unable to connect to the Internet")})}))}opentransist(t){this.alerttransistpost(t)}alerttransistpost(t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({header:"Alert",subHeader:"",message:"Are You sure you want to move the order to transist",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Okay",handler:()=>{this.transistitem(t)}}]});yield e.present()}))}transistitem(t){return Object(s.a)(this,void 0,void 0,(function*(){this.featurepost[t].orderstatus=2;var e=JSON.stringify({storeorderid:this.featurepost[t].storeorderid,orderstatuscode:2,itemnum:1,apikey:""});yield this.httpClient.post(this.generalservice.apiurl+"api/admin/update/updateorderstatus.ashx",e).subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){console.log(t),99!=t.statuscode&&this.presentToast("Unable to Update Order"),99==t.statuscode&&this.presentToast("Order Updated")})),t=>{console.log(t),this.presentToast("Unable to connect to the Internet")})}))}opencompleteorder(t){this.aletcompletepost(t)}aletcompletepost(t){return Object(s.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({header:"Alert",subHeader:"",message:"Are You sure this order has been Delivered",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Okay",handler:()=>{this.completeitem(t)}}]});yield e.present()}))}completeitem(t){return Object(s.a)(this,void 0,void 0,(function*(){this.featurepost[t].orderstatus=3;var e=JSON.stringify({storeorderid:this.featurepost[t].storeorderid,orderstatuscode:3,itemnum:1,apikey:""});yield this.httpClient.post(this.generalservice.apiurl+"api/admin/update/updateorderstatus.ashx",e).subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){console.log(t),99!=t.statuscode&&this.presentToast("Unable to Update Order"),99==t.statuscode&&this.presentToast("Order Updated")})),t=>{console.log(t),this.presentToast("Unable to connect to the Internet")})}))}startloading(t){return Object(s.a)(this,void 0,void 0,(function*(){this.loading=yield this.loadingController.create({message:t}),yield this.loading.present()}))}stoploading(){return Object(s.a)(this,void 0,void 0,(function*(){yield this.loading.dismiss()}))}loadmyeditfunction(t){this.loadeditfunction.emit(this.featurepost[t].id)}loadmyorderdispatch(t){this.loadorderdespatch.emit(this.featurepost[t].storeorderid)}loadmyordermessage(t){this.loadordermessage.emit(this.featurepost[t].storeorderid)}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(r.a),o.Jb(n.I),o.Jb(n.a),o.Jb(n.J),o.Jb(n.M),o.Jb(d.f),o.Jb(l.a),o.Jb(n.H),o.Jb(c.b))},t.\u0275cmp=o.Db({type:t,selectors:[["app-viewstudentheader"]],viewQuery:function(t,e){var i;1&t&&o.mc(n.m,!0),2&t&&o.gc(i=o.Vb())&&(e.infiniteScroll=i.first)},inputs:{apihost:"apihost",label:"label",postid:"postid",catid:"catid",tagid:"tagid",qstring:"qstring",qstringb:"qstringb",qstringc:"qstringc",qstringd:"qstringd",userid:"userid",updatetype:"updatetype",apikey:"apikey",sortby:"sortby",pagenum:"pagenum",pagesize:"pagesize",showmainarticle:"showmainarticle",delay:"delay",storagekey:"storagekey",disablepager:"disablepager",shownodata:"shownodata",shownoconnection:"shownoconnection"},outputs:{reloadstarted:"reloadstarted",reloadcompleted:"reloadcompleted",reloadcompletednull:"reloadcompletednull",reloadfailure:"reloadfailure",loadstarted:"loadstarted",loadcompleted:"loadcompleted",loadcompletednull:"loadcompletednull",loadfailure:"loadfailure",loadeditfunction:"loadeditfunction",loadorderdespatch:"loadorderdespatch",loadordermessage:"loadordermessage"},decls:5,vars:5,consts:[["id","loader",4,"ngIf"],["style","margin-top: 10px","id","news",4,"ngIf"],[4,"ngIf"],["class","w3-col l12 s12 m12 w3-hide",4,"ngIf"],["id","loader"],[1,"w3-center"],["color","primary",2,"zoom","2"],[2,"font-size","16px"],["id","news",2,"margin-top","10px"],[1,"w3-col","l12","s12"],[1,"w3-border-bottom","w3-white","w3-col",2,"width","100%"],[1,"w3-col","w3-center",2,"padding","4px","width","120px"],[2,"width","100%"],[1,"w3-circle",2,"max-width","100%","width","80px","height","80px",3,"src"],[1,"w3-col","l3","w3-border-right","w3-border-left","w3-padding","w3-hide-small","w3-hide-medium","w3-right",2,"padding","4px"],[1,"w3-padding-left","w3-padding-right","w3-medium"],[1,"w3-small","w3-text-dark-grey"],[1,"w3-large"],[1,"w3-padding-left","w3-padding-right","w3-small"],[3,"innerHTML"],[1,"w3-rest",2,"padding-left","10px","padding-right","10px"],[1,"w3-large","w3-text-primary"],[1,"w3-col","l12","s12","m12","w3-card-0","w3-border","w3-center","w3-white","w3-margin-top","w3-margin-bottom","w3-round-xlarge",2,"height","350px"],["src","assets/images/nodata.png",2,"height","120px","max-width","100%"],[1,"myfont1"],[1,"w3-hide"],[1,"w3-btn","w3-round-large","w3-primary",2,"width","80px"],["src","assets/images/nonetwork.png",2,"height","120px","max-width","100%"],[1,"w3-btn","w3-round-large","w3-primary",2,"width","80px",3,"click"],[1,"w3-col","l12","s12","m12","w3-hide"],["threshold","100px","id","myinfinitescroll",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more..."]],template:function(t,e){1&t&&(o.nc(0,p,7,1,"div",0),o.nc(1,b,43,7,"div",1),o.nc(2,g,13,0,"div",2),o.nc(3,f,13,0,"div",2),o.nc(4,m,3,0,"div",3)),2&t&&(o.Zb("ngIf",0==e.connectionstatuscode),o.zb(1),o.Zb("ngIf",1==e.connectionstatuscode),o.zb(1),o.Zb("ngIf",2==e.connectionstatuscode),o.zb(1),o.Zb("ngIf",3==e.connectionstatuscode),o.zb(1),o.Zb("ngIf",1==e.connectionstatuscode))},directives:[u.j,n.w,n.B,n.C,n.m,n.n],styles:[""]}),t})()}}]);